<html>
  <head>
    <title>Cheloniidae Live</title>
    <script src='cheloniidae-live.js'></script>
  </head>

  <body>
    <canvas id='screen' width='600' height='350'></canvas>

    <script>
      var c = document.getElementById ('screen');
      var t = turtle ({queue: []});
      var cs = ['.move(0.3)', '.turn(90 .degrees())', '.move(0.3)', '.turn(90 .degrees())', '.move(0.3)'];
      t = cs.fold ('d.trace ($1.fn()($0))', t);

      var v = new viewport ({pov: (-10).z(), up: (1).y(), forward: (1).z(), context: c.getContext ('2d'), width: 600, height: 350});

      d.trace (t.queue.map ('$0.a.toString() + " -> " + $0.b.toString()'));
      t.queue.each (v.render_line.bind (v));
    </script>
  </body>
</html>
