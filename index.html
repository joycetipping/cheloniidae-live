<html>
  <head>
    <title>Cheloniidae Live</title>
    <script src='divergence.js'></script>
    <script src='divergence.rebase.js'></script>
    <script src='divergence.vector.js'></script>
    <script src='cheloniidae-live.js'></script>
  </head>

  <body style='font-family:sans-serif; font-size: 9pt; margin-left: auto; margin-right: auto; width: 850px'>
    <h1>Cheloniidae Live</h1>

    <a href='javascript:document.getElementById("documentation").style.display = document.getElementById("documentation").style.display === "none" ? "block" : "none"'>Show/Hide Documentation</a>
    <div id='documentation'>
      <h2>Turtle Commands (simple mode)</h2>
      <p>You can write JavaScript programs to drive the turtle around. Available commands are <code>move(d)</code>, <code>jump(d)</code>, <code>turn(a)</code>, <code>bank(a)</code>, and
         <code>pitch(a)</code>, where <code>d</code> represents a distance (roughly in pixels) and <code>a</code> represents an angle in degrees. See the <a href='#examples'>examples</a>
         below to get started.</p>

      <h2>More Turtle Commands (power-user mode)</h2>
      <p>The <code>move</code>, <code>turn</code>, etc. functions are actually just helper functions that wrap a lower-level turtle API. The scene comes with a turtle called <code>t</code>
         that you can manipulate directly, giving you some options that aren't provided by the introductory commands.</p>

      <h3>The Turtle</h3>
      <p>A turtle represents a position, location, and pen settings at a moment in time. Turtles are immutable, so <code>t.move(100)</code> gives you a new turtle rather than modifying
         <code>t</code>. This gives you the option of splitting, for example:</p>

      <pre>
t.move (100);                // Draws a line but t remains where it started
t = t.turn (90).move (100);  // Draws another line at a right angle and moves t accordingly</pre>

      <h3>Changing Pen Attributes</h3>
      <p>The interface for this is actually kind of horrible, but you can set new colors, opacities, and line widths like this:</p>

      <pre>
t = t.with_pen (t.pen.with_color ('#800'));  // Changes t's pen color to '#800'
t = t.with_pen (t.pen.with_opacity (0.25));  // Sets line opacity to 0.25 (0.5 is the default)
t = t.with_pen (t.pen.with_size (4));        // Sets line width to 4 (0.5 is the default)</pre>

      <p>Also, since each one of these things is an expression, you can chain them and use temporary results:</p>

      <pre>
// Draws a 100-length line with a temporary turtle using a temporary pen:
t.with_pen (t.pen.with_color ('#35a').with_opacity (1)).move (100);</pre>

      <p>You can mix simple and power-user commands. The simple commands are equivalent to <code>t = t.move(d)</code> etc.</p>
    </div>

    <div>
      <h2>Viewport</h2>
      <div style='float:right; width: 200px'>
        <h3>Mouse commands</h3>
        <ul>
        <li><em>Drag</em> - move the camera</li>
        <li><em>Shift-drag</em> - rotate the camera</li>
        <li><em>Control-drag</em> - zoom</li>
        </ul>

        <h3 name='examples'>Examples</h3>
        <ul id='examples'></ul>
      </div>

      <canvas id='screen' width='600' height='350' style='border: solid 1px #888'>
        This page requires a browser with HTML5 canvas support. Valid browsers include <a href='http://getfirefox.com'>Mozilla Firefox</a>, <a href='http://google.com/chrome'>Google Chrome</a>,
        and most others that aren't Internet Explorer.
      </canvas>
    </div>

    <div id='controls'>
      <h2>Controls</h2>
      <div><button onclick='run_script(document.getElementById("commands").value)'>Run</button></div>
      <div id='error-area' style='color:red'></div>
      <p>If you make something awesome, <a href='mailto:spencer@spencertipping.com'>send it in</a>! I'll include it in the standard examples.</p>

      <textarea rows='24' cols='80' id='commands'></textarea>

    </div>

    <script src='page-driver.js'></script>
  </body>
</html>
